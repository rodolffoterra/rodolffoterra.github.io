<!DOCTYPE HTML>

<html>
	<head>

<!-- Hotjar Tracking Code for https://rodolffoterra.github.io/exploratyAnalysis.html -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2255362,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

<script type='text/javascript'>
	window.smartlook||(function(d) {
	  var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
	  var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
	  c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
	  })(document);
	  smartlook('init', 'e174065ea1c92508fe441a2a29be0219950dacb0');
  </script>
  
  <meta  http-equiv="X-UA-Compatible"    content="IE=edge,chrome=1">
  <meta   property="og:locale"           content="pt-BR" />
  <meta   property="og:type"             content="website" />
  <meta   property="og:description"      content="Em estatística, a análise exploratória de dados é uma abordagem à análise de conjuntos de dados de modo a resumir suas características principais, frequentemente com métodos visuais." />
  <meta   property="og:url"              content="https://www.rodolfoterra.com" />
  <meta   property="og:site_name"        content="Rodolfo Terra | Linguagem R (Análise Exploratória)" />
  <meta   property="og:image"            content="https://raw.githubusercontent.com/rodolffoterra/rodolffoterra.github.io/main/images/pic05.jpg" />
  <meta   property="og:image:secure_url" content="https://raw.githubusercontent.com/rodolffoterra/rodolffoterra.github.io/main/images/pic05.jpg" />
  <meta   property="og:type"             content="image/jpg" />
  
	  
  <title>Rodolfo Terra | Ciência de Dados</title>		
  <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper">
				<p class ="img_logo" style="text-align: right;"><img src="images/logo.png" alt="" /></p>


				<!-- Header -->
					<header id="header">
						<div class="inner">

							
							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

					<!-- Main -->
				<main>
				<div class="principal">
					<div class="container">
							<h1>&nbsp;&nbsp;&nbsp; Análise &nbsp;&nbsp;Exploratória</h1>
					<h3 class="text">Linguagem R</h3> 
					</div>
				</div>
				</main>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a target="_black" href="DataFrame.html">Artigo Anterior - Data Frame</a></li>
							<li><a target="_black" href="DgreeEquation.html">Próximo Artigo - Função Polinomial</a></li>

							<li><a target="_black" href="https://www.rodolfoterra.com/">Site</a></li>

							<!-- Logo -->
							<a target="_black" href="https://www.rodolfoterra.com/" class="logo">
								<span class="bottum-rigth"><img src="images/logo.png" alt="" />
								</a>
						</ul>
					</nav>

				

							<!-- Text -->
								<section>
								</br>
								<div class='text'>
									<hr />

								<h2>Análise Exploratória</h2>
								<hr />

									<P>Em estatística, a<b> análise exploratória de dados (AED)</b> é uma abordagem
									à análise de conjuntos de dados de modo a resumir suas
									características principais, frequentemente com métodos visuais.
									Um modelo estatístico pode ou não ser usado, mas primeiramente a AED tem
									como objetivo observar o que os dados podem nos dizer além da modelagem 
									formal ou do processo de teste de hipóteses. A análise exploratória de 
									dados foi promovida pelo estatístico norte-americano John Tukey, 
									que incentivava os estatísticos a explorar os dados e possivelmente 
									formular hipóteses que poderiam levar a novas coletas de dados e 
									experimentos. A AED é diferente da <b>análise inicial de dados (AID)</b>, 
									que se concentra mais estreitamente em verificar os pressupostos exigidos
									para ajuste de modelos e teste de hipóteses, além de manusear valores 
									faltantes e fazer transformações de variáveis conforme necessário. A 
									análise exploratória de dados abrange a AID.</p>
									<p>A análise exploratória de dados emprega grande variedade de técnicas 
									gráficas e quantitativas, visando maximizar a obtenção de informações
									ocultas na sua estrutura, descobrir variáveis importantes em suas 
									tendências, detectar comportamentos anômalos do fenômeno, testar se
									são válidas as hipóteses assumidas, escolher modelos e determinar o
									número ótimo de variáveis.</p>
									<hr />

									<h2> Carregando Conjunto de Dados</h2>
									<hr />


									<p>
									</span>Esse estudo estará utilização dados coletados e tratados pelo <b>Kaggles</b>, o qual
										disponibilizou esse dataset neste link. Com base nas informações dispostas nesse 
										dataset, realizarei Insights acerca dos tripulantes e das circunstâncias que envolveram 
										a tragédia. Vale lembrar que tal conjunto de dados não abriga informações de todos os 
										passageiros, mas sim de apenas 891.</p><span class="image right"><img src="images/titanic.png" alt="" />


									</span>Nesse projete iremos analisar uma série temporal de uma empresa de locação de 
									bicicleta dos Estados. Unidos. O conjunto de dados é obtido na plataforma Kaggle. Nesse 
									conjunto de dados, iremos realizar uma análise exploratória em relação da demanda de locação
									 de bicicleta dos dias da semana, dia úteis, com dias de finais de semanas e feriados, qual a 
									 correlação de locação de bicicleta com a temperatura e humidade do ar, se a velocidade do
									  vento interfere em relação a damanda de locação. Toda este projeto foi desenvolvido em 
									  linguagem R.</p>
									<a href="https://rpubs.com/RodolfoTerra/bicicleta" ></a>
								

									<p>Iremos utilizar a função <code>read.csv()</code>.Abaixo demonstraremos como carregar um conjunto de dados,
										lembrando que é preciso determinar alguns parâmetros, file ou <b>path</b>, caminho do diretório do arquivo 
										em seu computador, header indicar se o conjunto de dados tem ou não o nome das variáveis e como é um arquivo.
										csv temos que demonstrar qual é o separador, nesse dataset é a vírgula.</br>
										Abaixo temos 02 exemplo, o primeiro, <a target="blank" href="https://github.com/rodolffoterra/rodolffoterra.github.io/blob/main/dados/data_titanic.csv">
											baixar</a> o arquivo, e salva em seu computador. Ou Caso preferir pode
										utilizar a segunda opção que pega o arquivo direto do repositório do GitHub.</p>
									<pre><code># Primeira Opção<br>df <- read.csv(file = <span style="color: #ff0000;">'C:/Users/Downloads/data_titanitc.csv'</span>)</code></pre>
									<p>Ou</p>
									<pre><code># Segunda Opção<br>df <- read.csv(file = <span style="color: #ff0000;">'https://raw.githubusercontent.com/rodolffoterra/rodolffoterra.github.io/main/dados/data_titanic.csv'</span>)<br>head(df)</code></pre>

														<table class="alt">
															<thead>
																<tr>
																	<th>PassengerId</th>
																	<th>Survived</th>
																	<th>Pclass</th>
																	<th>Name</th>
																	<th>Sex</th>
																	<th>Age</th>
																	<th>SibSp</th>
																	<th>Parch</th>
																	<th>Ticket</th>
																	<th>Fare</th>
																	<th>Cabin</th>
																	<th>Embarket</th>


																	</tr>
															</thead>
															
																<tr>
																	<td>1</td>
																	<td>0</td>
																	<td>3</td>
																	<td>Braund, Mr. Owen Harris</td>
																	<td>male</td>
																	<td>22</td>
																	<td>1</td>
																	<td>0</td>
																	<td>A/5 21171</td>
																	<td>7.2500</td>
																	<td></td>
																	<td>s</td>

																	</tr>
																<tr>
																	<td>2</td>
																	<td>1</td>
																	<td>1</td>
																	<td>Cumings, Mrs. John Bradley (Florence Briggs Thayer)</td>
																	<td>female</td>
																	<td>38</td>
																	<td>1</td>
																	<td>0</td>
																	<td>pc 17599</td>
																	<td>71.2833</td>
																	<td>c85</td>
																	<td>c</td>
																	<tr>
																		<td>3</td>
																		<td>1</td>
																		<td>3</td>
																		<td>Heikkinen, Miss. Laina</td>
																		<td>female</td>
																		<td>26</td>
																		<td>0</td>
																		<td>0</td>
																		<td>STON/O2. 310128</td>
																		<td>7.9250</td>
																		<td></td>
																		<td>s</td>
	
																		</tr>
																		<tr>
																			<td>4</td>
																			<td>1</td>
																			<td>1</td>
																			<td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
																			<td>female</td>
																			<td>35</td>
																			<td>1</td>
																			<td>0</td>
																			<td>113803</td>
																			<td>53.1000</td>
																			<td>c123</td>
																			<td>s</td>
		
																			</tr>
																			<tr>
																				<td>5</td>
																				<td>0</td>
																				<td>3</td>
																				<td>Allen, Mr. William Henry</td>
																				<td>male</td>
																				<td>35</td>
																				<td>0</td>
																				<td>0</td>
																				<td>373450</td>
																				<td>8.0500</td>
																				<td></td>
																				<td>s</td>
			
																				</tr>		
																	</tbody>
																</table>																
															
															<hr />

									<h2>Análise Inicial dos Dados</h2>
									<hr />


									<p>Acima você pode conferir as primeiras e últimas linhas do dataset. As informações podem 
									causar certa confusão no primeiro momento, portanto, vamos esclarecer alguns pontos sobre
									eles, a começar pela remoção de colunas que não usaremos, como a “PassengerId”, “Ticket”
									e “Cabin”, que contém informações sobre o código de identidade do passIdadeiro, o número
									da sua cabine e do seu bilhete, respectivamente. Acredito que essas informações não são
									pertinentes ao estudo que faremos e sua permanência poderia causar perda de foco.</p>
									
									<pre><code>df <- df[,-c(1,9,11)]</code></pre>
									<p>Caso a função acima possa parecer estranho, leia o material anterior: <a href="DataFrame.html">Data Frame</a>.</p>
									<p> Com as colunas removidas em nosso conjutno de dados, iremos renomear as colunas 
										remanescentes.</p>

									<pre><code>colnames(df) <- c(<span style="color: #ff0000;">"Sobrevivente", "Classe","Nome","Sexo","Idade","Irmãos/Cônjuge","Pais/Crianças","Tarifa","Embarque"</span>)
									</code></pre>

									<p>Com as colunas devidamente renomeadas para um melhor entendimento, é hora de explicarmos o que cada um desses dados significa. Acompanhe abaixo cada coluna com seu respectivo significado:

										<li><b>Sobreviveu.:</b> Informa se o passageiro sobreviveu ao desastre. 0 = Não; 1 = Sim</li>
										<li><b>Classe.:</b> Classe na qual o passageiro viajou. 1 = Primeira Classe; 2 = Segunda Classe; 3 = Terceira Classe</li>
										<li><b>Nome.:</b> Nome do passageiro</li>
										<li><b>Sexo.:</b> Sexo do passageiro</li>
										<li><b>Idade.:</b> Idade do passageiro</li>
										<li><b>Irmãos/Cônjuge.:</b> Informa a quantidade de irmãos e cônjuges que o paciente possuía na embarcação</li>
										<li><b>Pais/Crianças.:</b> Quantidade de crianças e idosos (pais) relativos ao passIdadeiro</li>
										<li><b>Tarifa.:</b> Valor da passageiro</li>
										<li><b>Embarque.:</b> Local onde o passageiro embarcou</li></p>
									<hr/>
									
									<p> A função abaixo mostra a quantidade de linhas (Observações), quantidade de colunas (variáveis) o nome, o tipo da variável que foi 
										classificado pelo RStudio cada variável e a composição das variáveis. </p>
										<pre><code>str(df)</code></pre>
										<p><img src="images/str_titanic.jpg" alt=""  width=100% /></p>

										<pre><code>glimpse(df)</code></pre>
										<p><img src="images/glimpse_titanic.jpg" alt=""  width=100% /></p>

										<p>Já a função <code>skim(df)</code> mostra com maiores detalhes cada variáveis, começamos a ter uma ideia de como 
										cada informação está organizada em nosso conjunto de dados.</p>

										<pre><code>skimr::skim(df)</code></pre>
										<p><img src="images/skim_01_titanic.jpg" alt=""  width=100% /></p>
										<p><img src="images/skim_02_titanic.jpg" alt=""  width=100% /></p>

										<p> Abaixo estamos querendo saber quais variáveis foram classificados como numéricas pelo próprio RStudio</p>
										<pre><code>colunas_numericas <- sapply(df, is.numeric)<br>colunas_numericas</code></pre>
										<p><img src="images/sapply_titanic.jpg" alt=""  width=100% /></p>

										<h3>Valores Missing</h3>

										Agora iremos visualizar de em nosso conjunto de dados existe valores faltantes, usaremos um gráfico da biblioteca
										<b>Amelia</b>.  
										<pre><code>missmap(df,<br>        main = <span style="color: #ff0000;">"Titanic - Mapa de Dados Missing"</span>,<br>        col = c(<span style="color: #ff0000;">"black", "grey"</span>),<br>        legend = <span style="color: #63264e;">FALSE</span>)</code></pre>
										<p><img src="images/amelia_titanic.jpg" alt=""  width=65% /></p>

										<p>Podemos saber a quantidade de número missing por variável.</p>
										<pre><code>sapply(df, <span style="color: #63264e;">function</span>(x) sum(is.na(x)))</code></pre>
										<p><img src="images/sapply_01_titanic.jpg" alt=""  width=95% /></p>

										<P>Observar que a coluna idade possui muitos valores missing. Precisamos remover incluir 
										valores no lugares desses espaços vazios. Para isto decidimos realizar a seguinte técnica.
										O grafico abaixo mostra um boxplot da faixa etária por classe.</P>

										<pre><code>df$Classe <- factor(df$Classe, labels = c(<span style="color: #ff0000;">"1ª Classe", "2ª Classe", "3ª Classe"</span>))<br><br>ggplot(df, aes(Classe, Idade)) +<br>   geom_boxplot(aes(group = Classe, fill = Classe), alpha = 0.4, show.legend = FALSE) +<br>   scale_y_continuous(breaks = seq(min(0), max(80), by = 10)) +<br>   theme_classic() +<br>   labs(title = <span style="color: #ff0000;">"Quantidade de Pessoas por Classe"</span>,<br>   y = <span style="color: #ff0000;">"Idade"</span>,<br>   x = <span style="color: #ff0000;">"Classe"</span>)</code></pre>

										<p><img src="images/boxplot1_titanic.jpg" alt=""  width=70% /></p>

										<p>Podemos fazer um <b>Group_by</b> para visualizar o valor média por classe. Se você 
										nuncaouviu falar em agrupamento, <a href="sqldf.html">o artigo SQLDF</a>, explica com 
										maiores detalhes</p> 
										<pre><code>df[complete.cases(df$Idade),] %>%<br>   group_by(Classe) %>%<br>   summarise(media = mean(Idade))</code></pre>
										<p><img src="images/groupby_titanic.jpg" alt=""  width=100% /></p>
										<p> Podemos observar acima que a média da 1ª Classe é 38 anos, da 2ª Classe é 30 anos e da terceira Classe é 25 anos.</p>
										<p><img src="images/function_titanic.jpg" alt=""  width=100% /></p>
										<p><img src="images/amelia1_titanic.jpg" alt=""  width=65% /></p>

										<pre><code>sapply(df, <span style="color: #63264e;">function</span>(x) sum(is.na(x)))</code></pre>
										<p><img src="images/sapply_02_titanic.jpg" alt=""  width=95% /></p>
										<p>Removemos os valores missing de idade. Na coluna "Embarque"
										temos 02 observações com nenhuma informação. Nesse caso, colocaremos nessa duas 
										observações que está vazia, o valor “S”, pois representa 72 % do nosso conjunto de 
									    dados.</p>
										<pre><code>table <- rbind(table(df$Embarque),<br>   paste0(round(prop.table(table(df$Embarque))*100, digit = 2),<span style="color: #ff0000;">"%"</span>))<br><br>rownames(table) <- c(<sp style="color: #ff0000;">"Total","Percentual"</sp	an>)<br><br>table</code></pre>
										<p><img src="images/per_titanic.jpg" alt=""  width=95% /></p>
										<p>O Titanic parou em três locais diferentes para que seus passegeiros pudessem embarcar: 
										Cherbourg, Queenstown e Southampton, representados pelas letras C, Q e S no dataset,
										respectivamente.</p>
										<pre><code>df[c(62,830),9] <- <span style="color: #ff0000;">"S"</span><br><br>df$Embarque <- factor(df$Embarque, labels = c(<span style="color: #ff0000;">Cherbourg", "Queenstown","Southampton"</span>))</code></pre>
										<p>Na coluna Sovrevivente, colocaremos Naufragados no lugar de 0 e Sobrevivente no lugar de 1.<br>
										E na coluna Sexo no lugar, colocaremos Feminino e masculino para iniciarmos a análise exploratória de dados</p>
										<pre><code>df$Sobrevivente <- factor(df$Sobrevivente, labels = c(<span style="color: #ff0000;">"Naufragados","Sobrevivente"</span>))<br><br>df$Sexo <- factor(df$Sexo,  labels = c(<span style="color: #ff0000;">"Feminino", "Masculine"</span>))</code></pre>
										<hr />

										<h2> Análise Exploratória dos Dados</h2>
										<hr />

										Abaixo eremos mostrar um Dashboard  das variáveis categóricas e numéricas. 
										Segue também a função. O gráficos com as as retas azuis e vermelha, iremos 
										estudar com maiores detalhes no próximo artigo. Iremos construir apenas alguns gráficos 
										para começarmos a nos familializar regressão linear e a variação de gráficos.    
										<pre><code>my_fn <- <span style="color: #63264e;">function</span>(data, mapping, ...){<br>  p <- ggplot(data = data, mapping = mapping) +<br>  geom_point(size = 2.48, colour = <span style="color: #ff0000;">"#A9A9A9"</span>) +<br>  geom_smooth(method=loess, fill = <span style="color: #ff0000;">"red"</span>, color=<span style="color: #ff0000;">"red"</span>, ...)+<br>  geom_smooth(method=lm, fill = <span style="color: #ff0000;">"blue"</span>, color = <span style="color: #ff0000;">"blue"</span>, ...)<br>  p<br>}<br><br># Gráfico ggpairs<br>ggpairs(df[,c(1,2,4:9)], lower = list(continuous = my_fn)) +<br>  labs(title = <span style="color: #ff0000;">"Correlação entre as variáveis"</span>)</code></pre>
										<p><img src="images/ggally_titanic.jpg" alt=""  width=100% /></p>

										<p>Abaixo um gráfico de barra da quantidade de pessoas que sobreviveram ao naufrágio, e os que não sobreviveram.</p>
										<pre><code>ggplot(df, aes(Sobrevivente)) +<br>  geom_bar(aes(fill = factor(Sobrevivente)), alpha = 0.5) +<br>  theme_classic() +<br>  labs(title = <span style="color: #ff0000;">"Quantidade de Sobreviventes x Naufragados"</span>,<br>      y = <span style="color: #ff0000;">"Contagem"</span>,<br>      fill = <span style="color: #ff0000;">"Sobrevivente"</span>)</code></pre>
										<p><img src="images/graf1_titanic.jpg" alt=""  width=60% /></p>

										<p>Gráfico de barra da quantidade de pessoas por gênero.</p>
										<pre><code>ggplot(df, aes(Sexo)) +<br>  geom_bar(aes(fill = factor(Sexo)), alphe = 0.5) +<br>  theme_classic() +<br>  labs(title = "Quantidade de pessoas por Gênero",<br>      y = <span style="color: #ff0000;">"Contagem"</span>,<br>      x = <span style="color: #ff0000;">"Gênero"</span>,<br>      fill = <span style="color: #ff0000;">""</span>)</code></pre>
										<p><img src="images/graf2_titanic.jpg" alt=""  width=60% /></p>

										<p>Vamos usar a função <code>prop.table()</code> para visualizar a proporção de homens e mulheres.</p>
										<pre><code>prop.table(model_table) * 100</code></pre>
										<table>
											<tbody>
											<tr>
											<td bgcolor="white">##<br>## &nbsp;&nbsp; Feminino &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Masculino <br>## &nbsp;&nbsp;&nbsp;&nbsp; 35.2413 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 64.7587
											</td>
											</tr>
											</tbody>
										</table>
										<p>Usaremos a função <code>table()</code> para visualizar a quantidade distinta de cada <b>levels</b>.</p>

										<pre><code>table(df$Sexo)</code></pre>
										<table>
											<tbody>
											<tr>
											<td bgcolor="white">##<br>## &nbsp;&nbsp; Feminino &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Masculino <br>## &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 314 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 577
											</td>
											</tr>
											</tbody>
										</table>



										<p>Gráfico de barra da quantidade de pessoas por classe social.</p>
										<pre><code>ggplot(df, aes(Classe)) +<br>  geom_bar(aes(fill = Classe), alpha = 0.5, show.legend = FALSE) +<br>  theme_classic() +<br>  labs(title = <span style="color: #ff0000;">"Quantidade de Pessoas por Classe"</span>,<br>      y = <span style="color: #ff0000;">"Contagem"</span>,<br>      x = <span style="color: #ff0000;">"Classe"</span>,<br>      fill = <span style="color: #ff0000;">"Classe"</span>)</code></pre>

										<p><img src="images/graf3_titanic.jpg" alt=""  width=60% /></p>

										<p>E abaixo um Gráfico de barra da quantidade de pessoas por sexo e por Embarcação.</p>
										<pre><code>ggplot(df) +<br>  geom_bar(aes(y = Embarque, fill = Sexo, alphe = 0.5)) +<br>  theme_classic() +<br>  labs(title = <span style="color: #ff0000;">"Quantidade de pessoas por Embarcação e Gênero"</span>,<br>      y = <span style="color: #ff0000;">""</span>,<br>      x = <span style="color: #ff0000;">"Quantidade"</span>,<br>      fill = <span style="color: #ff0000;">"Sexo"</span>) +<br>  theme(axis.text.y = element_text(angle = 45, hjust = 1))</code></pre>
										<p><img src="images/graf4_titanic.jpg" alt=""  width=60% /></p>

										<p> Criaremos um blox plot para ver qual a faixa etária dos sobreviventes e se a idade 
										média das mulheres sobreviventes é maior do que a dos homens sobrevivente. Podemos observar que a média
										pelo gráfico das mulheres sobrevivente é muito próxima da idade dos homens sobreviventes. Para termos certeza
										se a média de idade dos gênero são iguais ou próxima teremos que realizar o teste de hipótese que será abordados 
										nos próximos artigo. </p>
										<pre><code>subset(df,df$Sobrevivente == <span style="color: #ff0000;">"Sobrevivente"</span>) %>%<br>  ggplot(aes(Idade, Sexo)) +<br>  geom_boxplot(aes(fill = as.factor(Sexo)), alpha = 0.4, show.legend = FALSE) +<br>  theme_classic() +<br>  labs(title =  <span style="color: #ff0000;">"BoxPlot dos Sobreviventes por Sexo x Idade"</span>,<br>      y = <span style="color: #ff0000;">"Sobrevivente"</span>,<br>      x = <span style="color: #ff0000;">"Idade"</span>) +<br>  theme(axis.text.y = element_text(angle = 45, hjust = 1)) </code></pre>
										<p><img src="images/box_idade_titanic.png" alt=""  width=80% /></p>
										<p> Já sabendo a média da faixa etária dos sobreviventes podemos fazer um outro gráfico, histograma, para conseguirmos
											visualizar quais as proporções por idade dos sobrevivente e a diferença entre mulher e home. </p>
										<pre><code>tmp_male <- subset(df, df$Sobrevivente == <span style="color: #ff0000;">"Sobrevivente"</span>) %>%  filter(Sexo==<span style="color: #ff0000;">"Masculino"</span>, !is.na(Idade)) %>% select(Idade) %>% .[[1]]<br>b <- hist(tmp_male, 20, plot=FALSE)<br>tmp_female <- subset(df, df$Sobrevivente == <span style="color: #ff0000;">"Sobrevivente"</span>) %>%  filter(Sexo==<span style="color: #ff0000;">"Feminino"</span>, !is.na(Idade)) %>% select(Idade) %>% .[[1]]<br>a <- hist(tmp_female, breaks = b$breaks, plot=FALSE)<br><br>df_density <- data.frame(Age=c(a$mids,b$mids),Density=c(a$density,b$density),Sex=c(rep(<span style="color: #ff0000;">"Feminino"</span>,length(a$mids)),rep(<span style="color: #ff0000;">"Maculino"</span>,length(b$mids))))<br><br>highchart() %>%<br>  hc_xAxis(categories = df_density$Age) %>%<br>  hc_add_series(name="Feminino", select(filter(df_density,Sex==<span style="color: #ff0000;">"Feminino"</span>),Density)[[1]], type=<span style="color: #ff0000;">"column"</span>, color=<span style="color: #ff0000;">'rgba(255, 192, 203, 0.30)'</span>, showInLegend=FALSE) %>%<br>  hc_add_series(name="Masculine", select(filter(df_density,Sex==<span style="color: #ff0000;">"Masculine"</span>),Density)[[1]], type=<span style="color: #ff0000;">"column"</span>, color=<span style="color: #ff0000;">'rgba(68, 170, 255, 0.30)'</span>, showInLegend=FALSE) %>%<br>  hc_add_series(name="Masculine", select(filter(df_density,Sex==<span style="color: #ff0000;">"Masculine"</span>),Density)[[1]], type=<span style="color: #ff0000;">"spline"</span>, color=<span style="color: #ff0000;">"#44AAFF"</span>) %>%<br>  hc_add_series(name="Feminino", select(filter(df_density,Sex==<span style="color: #ff0000;">"Feminino"</span>),Density)[[1]], type=<span style="color: #ff0000;">"spline"</span>, color=<span style="color: #ff0000;">"#FFC0Cb"</span>) %>%<br>  hc_tooltip(pointFormat = <span style="color: #ff0000;">"{series.name}"</span><br>			 {point.y:.3f}",<br>			 shared = FALSE) %>%<br>  hc_yAxis(title=list(text=<span style="color: #ff0000;">'Densidade'</span>)) %>%<br>  hc_xAxis(title=list(text=<span style="color: #ff0000;">'Idade'</span>))  %>%<br>  hc_title(text=<span style="color: #ff0000;">'Gráfico dos Sobreviventes por Idade'</span>)</code></pre>	
										<p><img src="images/hist_idade_titanic.png" alt=""  width=100% /></p>
										<pre><code>CrossTable(x = df$Sexo, y = df$Sobrevivente)</code></pre>
										<p><img src="images/crossTable_titanic.png" alt=""  width=100% /></p>
										<p> A função acima <code>CrossTable()</code> demonstra numericamente a relação entre o Sexo, e os sobreviventes 
										e naufragados, <b>tabela cruzada </b>. O nosso conjunto de dados, possui 891. sendo 314 mulheres, ou 35.20% e 577 homens ou 64.80%. A table
										também mostre a quantidade de mulheres sobreviventes, 233 (74,2% do grupo de mulheres) e 81 mulheres naufragadas (25.80% do grupo de mulheres).
										O mesmo análise temos na categoria dos homens, sendo 109 homens sobreviventes (18.90% do grupo de homens) e 468 homens 
										naufragados (81.10% do grupo de homens. 
										Abaixo temos também a quantidade de naufragados, 549 pessoas (61.60%) e de sobreviventes 342 pessoas (38.40%).Abaixo vamos mostrar mais um gráfico
									em relação ao sexo, e sobrevivente e naufragados</p>
									<pre><code>female_rate <- nrow(df[df$Sexo == <span style="color: #ff0000;">"Feminino"</span> & df$Sobrevivente == <span style="color: #ff0000;">"Sobrevivente"</span>,]) / nrow(df[df$Sexo == <span style="color: #ff0000;">"Feminino"</span>,]) * 100<br>male_rate <- nrow(df[df$Sexo != <span style="color: #ff0000;">"Feminino"</span> & df$Sobrevivente == <span style="color: #ff0000;">"Sobrevivente"</span>,]) / nrow(df[df$Sexo != <span style="color: #ff0000;">"Feminino"</span>,]) * 100<br><br>ggplot(df, aes(Sexo)) +<br>  geom_bar(aes(fill = Sexo, alpha = Sobrevivente), color=<span style="color: #ff0000;">"grey"</span>, show.legend = FALSE) +<br>  labs(x = <span style="color: #ff0000;">"Gênero"</span>,<br>      y = <span style="color: #ff0000;">"Quantidade"</span>,<br>      title=<span style="color: #ff0000;">"Sobrevivente por Gênero"</span>) +<br>  theme_bw(base_size = 18) +<br>  scale_fill_manual(name=<span style="color: #ff0000;">""</span>, values=c(<span style="color: #ff0000;">"E57373"</span>, <span style="color: #ff0000;">"#42A5F5"</span>)) +<br>  annotate(<span style="color: #ff0000;">"text"</span>, label=paste(round(female_rate,digits=3), <span style="color: #ff0000;">"%"</span>), x = 1, y = 250) +<br>  annotate(<span style="color: #ff0000;">"text"</span>, label=paste(round(male_rate,digits=3), <span style="color: #ff0000;">"%"</span>), x = 2, y = 125)</code></pre>
									<p><img src="images/graf5_titanic.jpg" alt=""  width=70% /></p>

									<p>Agora mostramos um gráfico separado por embarga, por títularidade do nome e é sobrevivente ou não.</p>
									<pre><code>df$Nome <- gsub(<span style="color: #ff0000;">'(.*, )|(\\..*)'</span>,<span style="color: #ff0000;">''</span>, df$Nome)<br>df$Nome[df$Nome == 'Mlle']<- <span style="color: #ff0000;">'Miss'</span><br>df$Nome[df$Nome == 'Ms']<- <span style="color: #ff0000;">'Miss'</span><br>df$Nome[df$Nome == 'Mme']<- <span style="color: #ff0000;">Mrs'</span><br>df$Nome[df$Nome == 'Lady']<- <span style="color: #ff0000;">'Miss'</span><br>df$Nome[df$Nome == 'Dona']<- <span style="color: #ff0000;">'Miss'</span><br>officer<- c(<span style="color: #ff0000;">'Capt','Col','Don','Dr','Jonkheer','Major','Rev','Sir','the Countess'</span>)<br>df$Nome[df$Nome %in% officer]<-<span style="color: #ff0000;">'Officer'</span><br><br>df$Nome<- as.factor(df$Nome)<br><br>ggplot(data = df,aes(x=Nome,fill=df$Sobrevivente)) +<br>  geom_bar(start = "identify") +<br>  labs(y = <span style="color: #ff0000;">"Quantidade"</span>,<br>      fill = <span style="color: #ff0000;">"Sobrevivente"</span>,<br>      title = <span style="color: #ff0000;">"Titularidade do Nome"</span>) +<br>  scale_y_continuous(breaks = seq(min(0), max(400), by = 50)) +<br>   facet_wrap(~Embarque) +<br>  theme_test()</code></pre>

									<p><img src="images/graf6_titanic.jpg" alt=""  width=70% /></p>

									<P>Para finalizarmos o nosso artigo deixaremos um gráfico abaixo, para que vocÊ possa refletir, pois será 
										assunto para a próxima aula, regressão linear. No próximo artigo terá uma análise detalhada em relação
									a composição desse gráfico</P>
									<pre><code>ggplot(df, aes(x = df$`Irmãos/Cônjuge`, y = df$`Pais/Crianças`))+<br>  geom_point() +<br>  geom_smooth(method=loess, fill = <span style="color: #ff0000;">"red"</span>, color=<span style="color: #ff0000;">"red"</span>)+<br>  geom_smooth(method=lm, fill = <span style="color: #ff0000;">"blue"</span>, color = <span style="color: #ff0000;">"blue")</span> +<br>  theme_classic() +<br>  labs(title = <span style="color: #ff0000;">"Correção entre Irmãos / Cônjuge com Pais / Crianaças"</span>,<br>      y = <span style="color: #ff0000;">"Pais/Crianaças"</span>,<br>      x = <span style="color: #ff0000;">"Irmãos/Cônjuge"</span>)</code></pre>
									<p><img src="images/graf7_titanic.jpg" alt=""  width=70% /></p>



							<!-- Image -->
							<div class="project">
								<hr />

							<h3>Outros Artigos</h3>
							<hr />

							<section class="tiles">
								<article class="style1">
									<span class="image">
										<img src="images/pic01.jpg" alt="" />
									</span>
									<a target="blank" href="sqldf.html">
										<h2>SQLDF</h2>
										<div class="content">
											<p>Aprenda a trabalhar com duas ferramentas ao mesmo tempo, podemos trabalhar com SQL dentro do RStudio.</p>
										</div>
									</a>
								</article>
								<article class="style3">
									<span class="image">
										<img src="images/pic02.jpg" alt="" />
									</span>
									<a target="blank" href="https://dataupemail.wixsite.com/website/post/vetores-linguagem-r">
										<h2>Vetores</h2>
										<div class="content">
											<p>Um vetor em R é uma estrutura básica dentro da linguagem, que permite armazenar uma quantidade numérica ou string (letras ou caracteres), em um único objeto. O vetor possui apenas 01 única dimensão.</p>
										</div>
									</a>
								</article>
								<article class="style4">
									<span class="image">
										<img src="images/pic03.jpg" alt="" />
									</span>
									<a target="blank" href="https://dataupemail.wixsite.com/website/post/matriz-linguagem-r">
										<h2>Matrix</h2>
										<div class="content">
											<p>Matrizes é caracterizado como uma coleção de vetores, sendo todos do mesmo tipo (numérico ou caracteres) armazenados entre linhas e colunas.</p>
										</div>
									</a>
								</article>
								<article class="style5">
									<span class="image">
										<img src="images/pic04.jpg" alt="" />
									</span>
									<a href="DataFrame.html">
										<h2>Data Frame</h2>
										<div class="content">
											<p>Um data frame é semelhante a uma matriz mas as suas colunas têm 
												nomes e podem conter dados de tipo diferente. Um data frame pode
												er visto como uma tabela de uma base de dados, em que cada linha 
												corresponde a um registo (linha) da tabela.</p>
										</div>
									</a>
								</article>
								<article class="style6">
									<span class="image">
										<img src="images/pic06.png" alt="" />
									</span>
									<a href="DgreeEquation.html">
										<h2>Função Polinomial</h2>
										<div class="content">
											<p>Uma equação polinomial é caracterizada por ter um polinômio igual a zero. Ela 
												pode ser caracterizada pelo grau do polinômio, e, quanto maior esse grau, maior
												 será o grau de dificuldade para encontrar-se sua solução ou raiz.</p>
										
										</div>
									</a>
								</article>
								<article class="style2">
									<span class="image">
										<img src="images/pic07.jpg" alt="" />
									</span>
									<a href="#">
										<h2>Clusterização</h2>
										<div class="content">
											<p>Em Breve</p>
										</div>
									</a>
								</article>															
							</section></br>

						</div>

							<hr />
									<h3>Projeto: Análise Exploratória </h3>
									<hr />

									<p><span class="image right"><img src="images/pic14.png" alt="" />
									</span>Nesse projete iremos analisar uma série temporal de uma empresa de locação de 
									bicicleta dos Estados. Unidos. O conjunto de dados é obtido na plataforma Kaggle. Nesse 
									conjunto de dados, iremos realizar uma análise exploratória em relação da demanda de locação
									 de bicicleta dos dias da semana, dia úteis, com dias de finais de semanas e feriados, qual a 
									 correlação de locação de bicicleta com a temperatura e humidade do ar, se a velocidade do
									  vento interfere em relação a damanda de locação. Toda este projeto foi desenvolvido em 
									  linguagem R.</p>
									<p  class="bottum-rigth" ><a target="_black" href="https://rpubs.com/RodolfoTerra/bicicleta" class="button primary small">Projeto <i class="far fa-registered"></i></a></p>
								<br>
								</section>
						</div>
					</div>



					<!-- Java Script -->
<div class="inner" style="text-align: center;">
							
	<section>
		<ul class="icons">
<h2>Apoiadores: </h2>

<div class = "espaco">
	<a target="_blank" href="https://instagram.com/eg_idiomas_campinas_marieta?igshid=nqc94zrmyj2j">
		<img src="images/apoiadores/Excellent_Global.jpeg" width=10%  style="margin-right: 50px" /></a>

<a target="_blank" href="https://instagram.com/niggahair1?igshid=131p8ua60wpyz">
	<img src="images/apoiadores/Nigga_Hair.jpeg" width=8% style="margin-right: 50px" /></a>

<a target="_blank" href="https://www.youtube.com/channel/UC7o2oQGAOSpgP8mTl71odOw">
<img src="images/apoiadores/youtube_enzo.png" width=10% style="margin-right: 50px" /></a>


</div>

</ul>
</section>
</div>

				


	

<!-- Footer -->

<footer id="footer">

	<div class="inner">
		
		<section>
			<div class="text">
	
			<h2>Desenvolvimento</h2>
			<ul class="icons">
				<li><a target="_blank" href="https://github.com/rodolffoterra" class="icon brands style2 fa-github"><span class="label">GitHub</span></a></li>
				<li><a target="_blank" href="http://www.rodolfoterra.com" class="icon solid style2 fa-home"><span class="label">Site</span></a></li>
				<li><a target="_blank" href="https://www.youtube.com/channel/UCGs6ClQzcm74mtNBy-uTSSQ/featured" class="icon solid style2 fas fa-play"><span class="label">Site</span></a></li>
				<li><a target="_blank" href="https://rpubs.com/RodolfoTerra" class="far fa-registered"><span class="label"> Rpub's</span></a></li>
													
			</ul>
			
		</section>
		
		<section>
			<h2>Redes Sociais</h2>
			<ul class="icons">
			<li><a target="_blank" href="https://www.linkedin.com/in/rodolffoterra/" class="icon brands style2 fa-linkedin"><span class="label">Linkedin</span></a></li>
			<li><a target="_blank" href="https://www.facebook.com/rodolffo.terra/" class="icon brands style2 fa-facebook-f"><span class="label">Facebook</span></a></li>
			<li><a href="mailto:consultoriaterra@hotmail.com" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>
			<li><a href="mailto:+5515981194753" class="icon solid style2 fa-phone"><span class="label">Phone</span></a></li>
			</ul>
		</section>
	
																	
		<ul class="desenvolv">
			&copy; 2021 Untitled. All rights reserved | Design: <a href="http://www.rodolfoterra.com"> &nbsp;Rodolfo Terra | Ciência de Dados</a></li>
		</ul> 
		
	</div>
	
	<p class ="img_logo" style="text-align: right;"><img src="images/logo.png" alt="" /></p>
	
	</footer>
	</div>
	</div>
	
	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	
	</body>